<div class="container justify-content-center my-5">
  <div class="row">
    <div class="col col-sm-12">
      <h1 class="text-center p-3">Bug Reports</h1>
      <div style="overflow-x: auto">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Title</th>
              <th>Priority</th>
              <th>Reporter</th>
              <th>Status</th>
              <th>Creation Date</th>
              <th [colSpan]="2">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let bug of bugList">
              <td>
                <span>{{ bug.title }}</span>
              </td>
              <td>
                <span>{{ bug.priority }}</span>
              </td>
              <td>
                <span>{{ bug.reporter }}</span>
              </td>
              <td>
                <span>{{ bug.status }}</span>
              </td>
              <td>
                <span>{{ bug.createdAt | date }}</span>
              </td>
              <td>
                <span class="fas fa-edit" (click)="onEdit(bug)"></span>
              </td>
              <td>
                <span class="fas fa-trash-alt" (click)="onDelete(bug)"></span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <hr />
      <div class="d-flex justify-content-center">
        <ngb-pagination
          [collectionSize]="70"
          [(page)]="page"
          aria-label="Default pagination"
        ></ngb-pagination>
      </div>
    </div>
  </div>
</div>

<ng-container *ngIf="bugFormGroup">
  <h2 class="py-5">Edit Bug</h2>

  <div class="conntainer">
    <div class="row">
      <div class="col col-sm-12">
        <form novalidate [formGroup]="bug" (ngSubmit)="onSubmit()">
          <div>
            <div class="form-group">
              <label for="title">Title</label>
              <input
                type="text"
                formControlName="title"
                class="form-control"
                id="title"
                name="title"
              />
            </div>

            <div class="form-group">
              <label for="description">Description</label>
              <textarea
                class="form-control"
                id="description"
                formControlName="description"
                name="description"
                cols="12"
              ></textarea>
            </div>

            <div class="form-group">
              <label for="priority">Priority</label>
              <select
                type="string"
                [value]=""
                formControlName="priority"
                class="form-control"
                id="priority"
                name="priority"
              >
                <option>--Select--</option>
                <option value="1">QA</option>
                <option value="2">PO</option>
                <option value="3">DEV</option>
              </select>
            </div>

            <div class="form-group">
              <label for="reporter">Reporter</label>
              <input
                type="text"
                class="form-control"
                formControlName="reporter"
                id="reporter"
                name="reporter"
              />
            </div>

            <div class="form-group">
              <label for="status">Status</label>
              <select
                type="string"
                [value]=""
                formControlName="status"
                class="form-control"
                id="status"
                name="status"
              >
                <option>--Select--</option>
                <option value="1">Testing</option>
                <option value="2">Done</option>
                <option value="3">Rejected</option>
              </select>
            </div>

            <div class="form-group">
              <label for="comment">Comments</label>
              <textarea
                class="form-control"
                id="comment"
                formControlName="comments"
                name="comment"
                cols="12"
              ></textarea>
            </div>
            <button class="btn btn-info" (click)="onAddComment(bug.comments)">
              Add more comment
            </button>
            <!-- <ng-container *ngIf="addMore">
            <div class="form-group">
              <label for="comment">Comments</label>
              <textarea
                class="form-control"
                id="comment"
                formControlName="comments"
                name="comment"
                cols="12"
              ></textarea>
            </div>
          </ng-container>

          <button
            type="button"
            class="btn btn-success"
            (click)="onAddMoreComment()"
          >
            Add More Comment
          </button> -->
          </div>
          <div class="form-group row mt-5">
            <div class="col-12 offset-sm-2">
              <button type="submit" class="btn btn-primary mr-2">Save</button>
              <button
                type="reset"
                class="btn btn-outline-primary"
                (click)="cancel()"
              >
                Cancel
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-container>
